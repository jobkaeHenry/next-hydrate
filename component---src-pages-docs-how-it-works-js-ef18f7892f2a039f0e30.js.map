{"version":3,"file":"component---src-pages-docs-how-it-works-js-ef18f7892f2a039f0e30.js","mappings":"uMAiIA,UA3HuBA,IAWnBC,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAACC,EAAAA,EAAG,CACFC,MAAM,8BACNC,YAAY,2EACZC,SAAS,uBAEXJ,EAAAA,cAACK,EAAAA,EAAS,KACRL,EAAAA,cAAA,UAAI,gBAEJA,EAAAA,cAAA,UAAI,YACJA,EAAAA,cAAA,SACEA,EAAAA,cAAA,YAAM,gBAAmB,oLAK3BA,EAAAA,cAAA,UAAI,gBAEJA,EAAAA,cAAA,UAAI,wBACJA,EAAAA,cAAA,SAAG,8FACHA,EAAAA,cAAA,UACEA,EAAAA,cAAA,UACEA,EAAAA,cAAA,cAAQ,YAAiB,2EAG3BA,EAAAA,cAAA,UACEA,EAAAA,cAAA,cAAQ,YAAiB,mCAAgCA,EAAAA,cAAA,YAAM,cAAkB,IAAI,iBAGvFA,EAAAA,cAAA,UACEA,EAAAA,cAAA,cAAQ,YAAiB,kDAE3BA,EAAAA,cAAA,UACEA,EAAAA,cAAA,cAAQ,YAAiB,mDAI7BA,EAAAA,cAAA,UAAI,0BACJA,EAAAA,cAAA,SAAG,wEACHA,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,mCACJA,EAAAA,cAAA,UAAI,qBACJA,EAAAA,cAAA,UAAI,qCACJA,EAAAA,cAAA,UAAI,2BAGNA,EAAAA,cAAA,UAAI,qBACJA,EAAAA,cAAA,UACEA,EAAAA,cAAA,UACEA,EAAAA,cAAA,cAAQ,6BAAkC,6CAA2C,IACrFA,EAAAA,cAAA,YAAM,wBAERA,EAAAA,cAAA,UACEA,EAAAA,cAAA,cAAQ,uBAA4B,6DAEtCA,EAAAA,cAAA,UACEA,EAAAA,cAAA,cAAQ,oBAAyB,kDAEnCA,EAAAA,cAAA,UACEA,EAAAA,cAAA,cAAQ,yBAA8B,uDAI1CA,EAAAA,cAAA,UAAI,6BAEJA,EAAAA,cAAA,UAAI,uBACJA,EAAAA,cAAA,SAAG,uEACHA,EAAAA,cAACM,EAAAA,EAAS,CAACC,KA7EG,4GA6EmBC,SAAS,eAE1CR,EAAAA,cAAA,UAAI,2BACJA,EAAAA,cAAA,SAAG,uEACHA,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,yCACJA,EAAAA,cAAA,UAAI,6BACJA,EAAAA,cAAA,UAAI,yBAGNA,EAAAA,cAAA,UAAI,qBACJA,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,kDACJA,EAAAA,cAAA,UAAI,uBACJA,EAAAA,cAAA,UAAI,kCAGNA,EAAAA,cAAA,UAAI,aACJA,EAAAA,cAACM,EAAAA,EAAS,CAACC,KA1FH,8MA0FmBC,SAAS,SAEpCR,EAAAA,cAAA,UAAI,kBACJA,EAAAA,cAAA,SAAG,sDACHA,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,wCACJA,EAAAA,cAAA,UAAI,oCACJA,EAAAA,cAAA,UAAI,8BAGNA,EAAAA,cAAA,UAAI,cACJA,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,yBACoBA,EAAAA,cAAA,KAAGS,KAAK,qBAAoB,gBAEpDT,EAAAA,cAAA,UAAI,eACUA,EAAAA,cAAA,KAAGS,KAAK,aAAY,kBAElCT,EAAAA,cAAA,UAAI,OACEA,EAAAA,cAAA,KAAGS,KAAK,kBAAiB,YAAY,gB","sources":["webpack://@jobkaehenry/next-hydrate-docs/./src/pages/docs/how-it-works.js"],"sourcesContent":["import React from 'react'\r\nimport { graphql } from 'gatsby'\r\nimport DocLayout from '../../components/DocLayout'\r\nimport CodeBlock from '../../components/CodeBlock'\r\nimport SEO from '../../components/SEO'\r\n\r\nconst HowItWorksPage = () => {\r\n  const queriesExample = `const props = await getHydrationProps({\r\n  queryClient,\r\n  queries: [...], // Automatically throttled\r\n})`\r\n\r\n  const dataFlow = `Server Component → getHydrationProps() → Execute Queries → Dehydrate State\r\n                                                               ↓\r\nClient Component ← Rehydrate State ← Parse Dehydrated State ←`\r\n\r\n  return (\r\n    <>\r\n      <SEO\r\n        title=\"How It Works - next-hydrate\"\r\n        description=\"Understanding the internals of next-hydrate and how it manages hydration\"\r\n        pathname=\"/docs/how-it-works\"\r\n      />\r\n      <DocLayout>\r\n        <h1>How It Works</h1>\r\n\r\n        <h2>Overview</h2>\r\n        <p>\r\n          <code>next-hydrate</code> provides a sophisticated hydration system that seamlessly integrates\r\n          with Next.js App Router and React Query v5. This guide explains the core concepts and internal\r\n          mechanisms.\r\n        </p>\r\n\r\n        <h2>Architecture</h2>\r\n\r\n        <h3>Fetch Mode Detection</h3>\r\n        <p>The library automatically detects the rendering mode by analyzing the Next.js environment:</p>\r\n        <ul>\r\n          <li>\r\n            <strong>SSR Mode</strong>: Detected when running in a server component without static\r\n            generation\r\n          </li>\r\n          <li>\r\n            <strong>ISR Mode</strong>: Identified by the presence of <code>revalidate</code>{' '}\r\n            configuration\r\n          </li>\r\n          <li>\r\n            <strong>SSG Mode</strong>: Detected during build-time static generation\r\n          </li>\r\n          <li>\r\n            <strong>CSR Mode</strong>: Fallback mode for client-side only rendering\r\n          </li>\r\n        </ul>\r\n\r\n        <h3>QueryClient Management</h3>\r\n        <p>Server-side QueryClient instances are created per request to ensure:</p>\r\n        <ul>\r\n          <li>Data isolation between requests</li>\r\n          <li>Memory efficiency</li>\r\n          <li>Automatic cleanup after hydration</li>\r\n          <li>Thread-safe operations</li>\r\n        </ul>\r\n\r\n        <h3>Hydration Process</h3>\r\n        <ol>\r\n          <li>\r\n            <strong>Server-Side Data Fetching</strong>: Queries are executed on the server using{' '}\r\n            <code>getHydrationProps()</code>\r\n          </li>\r\n          <li>\r\n            <strong>State Serialization</strong>: Query cache is dehydrated into JSON-serializable format\r\n          </li>\r\n          <li>\r\n            <strong>Client Hydration</strong>: Dehydrated state is rehydrated on the client\r\n          </li>\r\n          <li>\r\n            <strong>Query Synchronization</strong>: Client queries sync with server state seamlessly\r\n          </li>\r\n        </ol>\r\n\r\n        <h2>Performance Optimizations</h2>\r\n\r\n        <h3>Concurrency Control</h3>\r\n        <p>Limits parallel server-side fetches to prevent resource exhaustion:</p>\r\n        <CodeBlock code={queriesExample} language=\"typescript\" />\r\n\r\n        <h3>Payload Size Monitoring</h3>\r\n        <p>Automatically falls back to CSR when server payload exceeds limits:</p>\r\n        <ul>\r\n          <li>Prevents hydration performance issues</li>\r\n          <li>Maintains fast page loads</li>\r\n          <li>Graceful degradation</li>\r\n        </ul>\r\n\r\n        <h3>Memory Management</h3>\r\n        <ul>\r\n          <li>Automatic QueryClient disposal after hydration</li>\r\n          <li>Query deduplication</li>\r\n          <li>Efficient cache serialization</li>\r\n        </ul>\r\n\r\n        <h2>Data Flow</h2>\r\n        <CodeBlock code={dataFlow} language=\"text\" />\r\n\r\n        <h2>Error Handling</h2>\r\n        <p>The library provides comprehensive error handling:</p>\r\n        <ul>\r\n          <li>Query failures don't break hydration</li>\r\n          <li>Integrated logging for debugging</li>\r\n          <li>Graceful fallbacks to CSR</li>\r\n        </ul>\r\n\r\n        <h2>Next Steps</h2>\r\n        <ul>\r\n          <li>\r\n            Learn about different <a href=\"/docs/fetch-modes\">Fetch Modes</a>\r\n          </li>\r\n          <li>\r\n            Explore the <a href=\"/docs/api\">API Reference</a>\r\n          </li>\r\n          <li>\r\n            See <a href=\"/docs/examples\">Examples</a> in action\r\n          </li>\r\n        </ul>\r\n      </DocLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HowItWorksPage\r\n\r\nexport const query = graphql`\r\n  query($language: String!) {\r\n    locales: allLocale(filter: {language: {eq: $language}}) {\r\n      edges {\r\n        node {\r\n          ns\r\n          data\r\n          language\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n"],"names":["HowItWorksPage","React","SEO","title","description","pathname","DocLayout","CodeBlock","code","language","href"],"sourceRoot":""}